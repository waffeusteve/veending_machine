<div class="ibox float-e-margins">
  <div class="ibox-content">
    <form #recordForm="ngForm" (submit)="save()">
      <fieldset [disabled]="isSubmitting">
        <div class="row">
          <div class="col-sm-3">
            <div class="form-group">
              <label for="login">Login</label>
              <input [disabled]="!isCreateMode"  type="text" [(ngModel)]="record.login" class="form-control" name="login" id="login"
                     #login="ngModel"
                     [readonly]="mode !== 'Create'" required>
            </div>
            <div [hidden]="login.valid || login.pristine" class="alert alert-danger">Login is required</div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="name">Name</label>
              <input [(ngModel)]="record.name"   [readonly]="isViewMode" type="text" class="form-control" id="name" name="name" #name="ngModel"
                     required>
            </div>
            <div [hidden]="name.valid || name.pristine"  class="alert alert-danger">Name is required</div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label for="type">Type</label>
              <select [(ngModel)]="record.type" class="form-control" id="type" [disabled]="mode !== 'Create'"
                      name="type"
                      #type="ngModel" required>
                <option *ngFor="let type of types" [value]="type">{{type}}</option>
              </select>
            </div>
            <div [hidden]="type.valid || type.pristine" class="alert alert-danger">User type is required</div>
          </div>

          <div class="col-sm-3" *ngIf="isCreateMode">
            <div class="form-group">
              <label for="login">Password</label>
              <input [disabled]="!isCreateMode"  type="password" [(ngModel)]="record.password" class="form-control" name="password" id="password"
                     #password="ngModel" [readonly]="mode !== 'Create'" required>
            </div>
            <div [hidden]="password.valid || password.pristine" class="alert alert-danger">Password is required</div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label for="email">Email</label>
              <input [(ngModel)]="record.email"  [readonly]="isViewMode"  type="email" class="form-control" id="email" name="email"
                     #email="ngModel"
                     required>
            </div>
            <div [hidden]="email.valid || email.pristine" class="alert alert-danger">Email is required</div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label for="phone">Phone</label>
              <input [(ngModel)]="record.phone"  [readonly]="isViewMode" type="text" class="form-control" id="phone" name="phone">
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label for="address">Address</label>
              <input [(ngModel)]="record.address"  [readonly]="isViewMode" type="text" class="form-control" id="address" name="address">
            </div>
          </div>
        </div>




        <div class="row">


          <div class="col-sm-3">
            <div class="form-group">
              <label for="lang">Language</label>
              <select [compareWith]="objectIdComparator" [(ngModel)]="record.lang"  [disabled]="isViewMode" class="form-control" id="lang"
                      name="lang" #lang="ngModel" required>
                <option *ngFor="let lang of langs" [ngValue]="lang">
                  {{lang.code}}
                </option>
              </select>
            </div>
            <div [hidden]="lang.valid || lang.pristine" class="alert alert-danger">
              Language is required
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label for="status">Status</label>
              <select [(ngModel)]="record.status" class="form-control" id="status" [disabled]="isCreateMode == true"
                      name="status"
                      #status="ngModel" required>
                <option *ngFor="let status of statusList" [value]="status">{{status}}</option>
              </select>
            </div>
          </div>
        </div>

        <button class="btn btn-sm btn-primary  m-t-n-xs" nz-button nzType="submit"  [disabled]="!recordForm.form.valid || isViewMode"  [nzLoading]="isSavingRecord">
          <i class="fa fa-save"></i> <strong> Submit</strong>
        </button>
      </fieldset>
    </form>
  </div>
</div>

<!-- <nz-modal
  [(nzVisible)]="isModalVisible"
  [nzTitle]="modalTitle"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
  (nzOnCancel)="handleCancel()"
>
  <ng-template #modalTitle>
    Custom Modal Title
  </ng-template>

  <ng-template #modalContent>


    <form #recordForm="ngForm" [class]="setModalFormValid(recordForm.form.valid)?'':''">
      <fieldset [disabled]="isSavingRecord"  >
        <div class="row" >
          <div class="col-sm-12">
            <div class="form-group">
              <label for="newPassword">New password</label>
              <input  type="text" [(ngModel)]="changePwd.newPassword" class="form-control" name="newPassword" id="newPassword"
                      #newPassword="ngModel" >
            </div>
            <div [hidden]="newPassword.valid || newPassword.pristine" class="alert alert-danger">Enter valid password</div>
          </div>
          <div class="col-sm-12">
            <div class="form-group">
              <label for="confirmPassword">Confirm password</label>
              <input type="text" [(ngModel)]="changePwd.confirmPassword" class="form-control" name="confirmPassword" id="confirmPassword"
                     #confirmPassword="ngModel"  required>
            </div>
            <div [hidden]="confirmPassword.valid || confirmPassword.pristine || changePwd.newPassword != changePwd.confirmPassword" class="alert alert-danger">Password must match</div>
          </div>
        </div>
      </fieldset>
    </form>
  </ng-template>

  <ng-template #modalFooter>
    <button nz-button nzType="danger" (click)="handleCancel()">Cancel</button>
    <button nz-button nzType="primary" (click)="handleOk()" [disabled]="!this.isModalFormValid" [nzLoading]="isConfirmLoading">Change</button>
  </ng-template>
</nz-modal>
 -->